C51 COMPILER V9.00   SYN6288                                                               10/01/2018 10:15:37 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE SYN6288
OBJECT MODULE PLACED IN ..\obj\SYN6288.obj
COMPILER INVOKED BY: F:\KEIL5\C51\BIN\C51.EXE ..\code\SYN6288.C LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(..\code) DEBUG OBJ
                    -ECTEXTEND PRINT(.\SYN6288.lst) OBJECT(..\obj\SYN6288.obj)

line level    source

   1          /***************************·ÉÒôÔÆµç×Ó****************************
   2          **  ¹¤³ÌÃû³Æ£ºYS-SYN6288ÓïÒôºÏ³ÉÅäÌ×³ÌÐò
   3          **      CPU: STC89LE52
   4          **      ¾§Õñ£º22.1184MHZ
   5          **      ²¨ÌØÂÊ£º9600 bit/S
   6          **      ÅäÌ×²úÆ·ÐÅÏ¢£ºYS-SYN6288ÓïÒôºÏ³ÉÄ£¿é
   7          **                http://yuesheng001.taobao.com
   8          **  ×÷Õß£ºzdings
   9          **  ÁªÏµ£º751956552@qq.com
  10          **  ÐÞ¸ÄÈÕÆÚ£º2012.8.25
  11          **  ËµÃ÷£º¡£¡£
  12          /***************************·ÉÒôÔÆµç×Ó******************************/
  13          
  14          #include "config.h"
  15          #include "usart.h"
  16          #include <string.h>
  17          
  18          /**************Ð¾Æ¬ÉèÖÃÃüÁî*********************/
  19          uint8_t SYN_StopCom[]={0xFD,0X00,0X02,0X02,0XFD};//Í£Ö¹ºÏ³É
  20          uint8_t SYN_SuspendCom[]={0XFD,0X00,0X02,0X03,0XFC};//ÔÝÍ£ºÏ³É
  21          uint8_t SYN_RecoverCom[]={0XFD,0X00,0X02,0X04,0XFB};//»Ö¸´ºÏ³É
  22          uint8_t SYN_ChackCom[]={0XFD,0X00,0X02,0X21,0XDE};//×´Ì¬²éÑ¯
  23          uint8_t SYN_PowerDownCom[]={0XFD,0X00,0X02,0X88,0X77};//½øÈëPOWER DOWN ×´Ì¬ÃüÁî
  24          
  25          /***********************************************/
  26          
  27          
  28          
  29          /***********************************************************
  30          * Ãû    ³Æ£º  YS-SYN6288 ÎÄ±¾ºÏ³Éº¯Êý   (´Ëº¯ÊýÖ»¹©²Î¿¼ÀûÓÃ£¬¸ü¶àµÄ¹¦ÄÜÐèÒª×ÔÐÐÐÞ¸Ä³ÌÐòÌá¸ßÁé»îÐÔ£¬¸ù¾ÝÊµ¼
             -ÊÒªÇó°ÑÊý¾Ý·¢³öÈ¥¼´¿É)
  31          * ¹¦    ÄÜ£º  ·¢ËÍºÏ³ÉÎÄ±¾µ½SYN6288Ð¾Æ¬½øÐÐºÏ³É²¥·Å
  32          * Èë¿Ú²ÎÊý£ºMusic(±³¾°ÒôÀÖÑ¡Ôñ):0ÎÞ±³¾°ÒôÀÖ¡£1-15£ºÏà¹Ø±³¾°ÒôÀÖ
  33                      *HZdata:ÎÄ±¾Ö¸Õë±äÁ¿ 
  34          * ³ö¿Ú²ÎÊý£º
  35          * Ëµ    Ã÷£º ±¾º¯ÊýÖ»ÓÃÓÚÎÄ±¾ºÏ³É£¬¾ß±¸±³¾°ÒôÀÖÑ¡Ôñ¡£Ä¬ÈÏ²¨ÌØÂÊ9600bps¡£                                         
  36          * µ÷ÓÃ·½·¨£ºÀý£º SYN_FrameInfo£¨0£¬¡°ÀÖÉùµç×Ó¿Æ¼¼¡±£©£»
  37          **********************************************************/
  38          void SYN_FrameInfo(uint8_t Music,uint8_t *HZdata)
  39          {
  40   1      /****************ÐèÒª·¢ËÍµÄÎÄ±¾**********************************/ 
  41   1                       unsigned  char  Frame_Info[50];
  42   1               unsigned  char  HZ_Length;  
  43   1                       unsigned  char  ecc  = 0;                      //¶¨ÒåÐ£Ñé×Ö½Ú
  44   1                   unsigned  int i=0; 
  45   1                       HZ_Length =strlen(HZdata);                     //ÐèÒª·¢ËÍÎÄ±¾µÄ³¤¶È
  46   1       
  47   1      /*****************Ö¡¹Ì¶¨ÅäÖÃÐÅÏ¢**************************************/           
  48   1                       Frame_Info[0] = 0xFD ;                         //¹¹ÔìÖ¡Í·FD
  49   1                       Frame_Info[1] = 0x00 ;                         //¹¹ÔìÊý¾ÝÇø³¤¶ÈµÄ¸ß×Ö½Ú
  50   1                       Frame_Info[2] = HZ_Length + 3;                 //¹¹ÔìÊý¾ÝÇø³¤¶ÈµÄµÍ×Ö½Ú
  51   1                       Frame_Info[3] = 0x01 ;                         //¹¹ÔìÃüÁî×Ö£ººÏ³É²¥·ÅÃüÁî                               
  52   1                       Frame_Info[4] = 0x01 | Music<<4 ;  //¹¹ÔìÃüÁî²ÎÊý£º±³¾°ÒôÀÖÉè¶¨
  53   1      
C51 COMPILER V9.00   SYN6288                                                               10/01/2018 10:15:37 PAGE 2   

  54   1      /*******************Ð£ÑéÂë¼ÆËã***************************************/           
  55   1                       for(i = 0; i<5; i++)                                   //ÒÀ´Î·¢ËÍ¹¹ÔìºÃµÄ5¸öÖ¡Í·×Ö½Ú
  56   1                   {  
  57   2                       ecc=ecc^(Frame_Info[i]);               //¶Ô·¢ËÍµÄ×Ö½Ú½øÐÐÒì»òÐ£Ñé      
  58   2                   }
  59   1      
  60   1                       for(i= 0; i<HZ_Length; i++)            //ÒÀ´Î·¢ËÍ´ýºÏ³ÉµÄÎÄ±¾Êý¾Ý
  61   1                   {  
  62   2                       ecc=ecc^(HZdata[i]);                           //¶Ô·¢ËÍµÄ×Ö½Ú½øÐÐÒì»òÐ£Ñé              
  63   2                   }           
  64   1      /*******************·¢ËÍÖ¡ÐÅÏ¢***************************************/            
  65   1                        memcpy(&Frame_Info[5], HZdata, HZ_Length);
  66   1                        Frame_Info[5+HZ_Length]=ecc;
  67   1                        PrintCom(Frame_Info,5+HZ_Length+1);
  68   1      }
  69          
  70          
  71          /***********************************************************
  72          * Ãû    ³Æ£º void  main(void)
  73          * ¹¦    ÄÜ£º Ö÷º¯Êý     ³ÌÐòÈë¿Ú
  74          * Èë¿Ú²ÎÊý£º *Info_data:¹Ì¶¨µÄÅäÖÃÐÅÏ¢±äÁ¿ 
  75          * ³ö¿Ú²ÎÊý£º
  76          * Ëµ    Ã÷£º±¾º¯ÊýÓÃÓÚÅäÖÃ£¬Í£Ö¹ºÏ³É¡¢ÔÝÍ£ºÏ³ÉµÈÉèÖÃ £¬Ä¬ÈÏ²¨ÌØÂÊ9600bps¡£                                       
  77          * µ÷ÓÃ·½·¨£ºÍ¨¹ýµ÷ÓÃÒÑ¾­¶¨ÒåµÄÏà¹ØÊý×é½øÐÐÅäÖÃ¡£ 
  78          **********************************************************/
  79          //void YS_SYN_Set(uint8_t *Info_data)
  80          //{
  81          //      uint8_t Com_Len;
  82          //      Com_Len =strlen(Info_data);
  83          //      PrintCom(Info_data,Com_Len);
  84          //}
  85          
  86          
  87          
  88          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    209    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =     25      56
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
